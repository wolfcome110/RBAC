<!DOCTYPE html>
<html>
<head>
    <!-- The jQuery library is a prerequisite for all jqSuite products -->
    <!--<script src="Scripts/Guriddo_jqGrid_JS_5.2.1/js/jquery-1.11.0.min.js"></script>-->
    <script src="Scripts/jquery-1.10.2.min.js"></script>
    <!-- This is the Javascript file of jqGrid -->
    <!--<script src="Scripts/Guriddo_jqGrid_JS_5.2.1/js/jquery.jqGrid.min.js"></script>-->
    <script src="Scripts/jqGrid/js/jquery.jqGrid.min.js"></script>
    <!-- This is the localization file of the grid controlling messages, labels, etc.
    <!-- We support more than 40 localizations -->
    <!--<script src="Scripts/Guriddo_jqGrid_JS_5.2.1/js/i18n/grid.locale-cn.js"></script>-->
    <script src="Scripts/jqGrid/js/i18n/grid.locale-cn.js"></script>
    <!-- A link to a jQuery UI ThemeRoller theme, more than 22 built-in and many more custom -->
    <!--<link href="Scripts/Guriddo_jqGrid_JS_5.2.1/css/ui.jqgrid-bootstrap-ui.css" rel="stylesheet" />-->
    <link href="Scripts/jqGrid/css/ui.jqgrid-bootstrap-ui.css" rel="stylesheet" />
    <!-- The link to the CSS that the grid needs -->
    <!--<link href="Scripts/Guriddo_jqGrid_JS_5.2.1/css/ui.jqgrid.css" rel="stylesheet" />-->
    <link href="Scripts/jqGrid/css/ui.jqgrid.css" rel="stylesheet" />
    <link href="Content/jquery-ui.css" rel="stylesheet" />
    <meta charset="utf-8" />
    <title>jqTreeGrid - Load On Demand - Load all Rows at once collapsed</title>
</head>
<body>
    <table id="tree"></table>
    <div id="pager"></div>


    <script type="text/javascript">

        $('#tree').jqGrid({
            autowidth:true,
            width: "780",
            hoverrows: false,
            viewrecords: false,
            gridview: true,
            url: "data1.json",
            editurl: "clientArray",
            ExpandColumn: "name",
            height: "auto",
            sortname: "account_id",
            scrollrows: true,
            treeGrid: true,
            treedatatype: "json",
            treeGridModel: "adjacency",
            loadonce: true,
            rowNum: 1000,
            treeReader: {
                "parent_id_field": "parent_id",
                "level_field": "level",
                "leaf_field": "isLeaf",
                "expanded_field": "expanded",
                "loaded": "loaded",
                "icon_field": "icon"
            },
            datatype: "json",
            colModel: [
				{
				    name: "account_id",
				    key: true,
				    hidden: true
				}, {
				    name: "name",
				    label: "Name",
				    width: 170,
				    editable: true
				}, {
				    name: "acc_num",
				    label: "Number",
				    width: 170,
				    editable: true
				}, {
				    name: "debit",
				    sorttype: "numeric",
				    label: "Debit",
				    width: 90,
				    formatter: "number",
				    align: "right",
				    editable: true
				}, {
				    name: "credit",
				    sorttype: "numeric",
				    formatter: "number",
				    label: "Credit",
				    width: 90,
				    align: "right",
				    editable: true
				}, {
				    name: "balance",
				    sorttype: "numeric",
				    formatter: "number",
				    label: "Balance",
				    width: 90,
				    align: "right",
				    editable: true
				}, {
				    name: "parent_id",
				    hidden: true
				}
            ],
            "pager": "#pager"
        });
        // nable add
        $('#tree').jqGrid('navGrid', '#pager',
		{
		    edit: true,
		    add: true,
		    del: true,
		    search: true,
		    refresh: true,
		    view: true,
		    excel: true,
		    pdf: false,
		    csv: false,
		    columns: false
		},
		{ "drag": true, "resize": true, "closeOnEscape": true, "dataheight": 150 },
		{ "drag": true, "resize": true, "closeOnEscape": true, "dataheight": 150 }
		);
        $('#tree').jqGrid('bindKeys');
    </script>
</body>
</html>