@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}


<div class="panel-body" style="padding-bottom:0px;">
    <div class="panel panel-default">
        <div class="panel-heading">查询条件</div>
        <div class="panel-body">
            <form id="formSearch" class="form-horizontal">
                <div class="form-group" style="margin-top:15px">
                    <label class="control-label col-sm-1" for="txt_search_departmentname">员工名称</label>
                    <div class="col-sm-3">
                        <input type="text" class="form-control" id="txt_search_departmentname">
                    </div>

                    <div class="col-sm-4 left">
                        <button type="button" style="margin-left:50px" id="btn_query" class="btn btn-primary">查询</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div id="toolbar" class="btn-group">
        <button id="btn_add" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-plus l-btn-icon icon-add" aria-hidden="true"></span> 新增
        </button>
        <button id="btn_edit" type="button" class="btn btn-default">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> 编辑
        </button>
        <button id="btn_delete" type="button" class="btn btn-default">
            <span class="fa fa-trash-o" aria-hidden="true"></span> 删除
        </button>
        <button id="btn_delete" type="button" class="btn btn-default">
            <span class="fa fa-undo" aria-hidden="true"></span> 还原
        </button>
        <button id="btn_delete" type="button" class="btn btn-default">
            <span class="fa fa-save" aria-hidden="true"></span> 保存
        </button>
        <button id="btn_delete" type="button" class="btn btn-default">
            <span class="fa fa-search" aria-hidden="true"></span> 查询
        </button>
        <button id="btn_delete" type="button" class="btn btn-default">
            <span class="fa fa-eye" aria-hidden="true"></span> 浏览
        </button>
        <button id="btn_delete" type="button" class="btn btn-default">
            <span class="fa fa-file" aria-hidden="true"></span> 导入
        </button>
        <button id="btn_delete" type="button" class="btn btn-default">
            <span class="fa fa-window-restore" aria-hidden="true"></span> 导出
        </button>
        <button id="btn_delete" type="button" class="btn btn-default">
            <span class="fa fa-user-circle-o" aria-hidden="true"></span> 角色
        </button>
        <button id="btn_delete" type="button" class="btn btn-default">
            <span class="fa fa-users" aria-hidden="true"></span> 部门
        </button>
        <button id="btn_delete" type="button" class="btn btn-default">
            <span class="fa fa-cog" aria-hidden="true"></span> 分配权限
        </button>
        <button id="btn_delete" type="button" class="btn btn-default">
            <span class="fa fa-refresh" aria-hidden="true"></span> 刷新
        </button>
        <button id="btn_delete" type="button" class="btn btn-default">
            <span class="fa fa-question-circle" aria-hidden="true"></span> 帮助
        </button>


    </div>
    <table id="tb_users"></table>
</div>

<script>
    $dgUsers = new $datagrid($("#tb_users"), {
        //query: { TextBatchId: $("#txtCode").val().trim() },
        data: [{ UserNo: "#001", UserName: "UserName#1" }, { UserNo: "#002", UserName: "UserName#2" }, { UserNo: "#003", UserName: "UserName#3" }],
        pagination: true,
        paginationVAlign: 'bottom',//top,bottom,both
        paginationHAlign: "right",
        //editable: true,
        pageNumber: 1,
        pageSize: 2,
        pageList: [2, 50, 100],
        //url: '/Settings/GetDHLJYList?TextBatchId=' + $("#TextBatchId").val(),
        columns: [{
            field: 'UserNo',
            title: 'UserNo',
            //width: 100,
            align: 'center',
            valign: 'middle',
            //formatter: nameFormatter
        }, {
            field: 'UserName',
            title: 'UserName',
            //width: 100,
            align: 'center',
            valign: 'middle',
            editable: {
                type: 'text',
                title: '检验员',
                validate: function (v) {
                    if (!v) return '检验员不能为空';

                }
            }
            //formatter: nameFormatter
        }],
        onEditableSave: function (field, row, oldValue, $el) {
            //console.log(">>>>>")
            //console.log(field);
            //console.log(row);
            //console.log(oldValue);
            //console.log($el);
            //console.log(">>>>>");
            //$.ajax({
            //    type: "post",
            //    url: "/Settings/Edits",
            //    data: row,
            //    dataType: 'JSON',
            //    success: function (data, status) {
            //        if (status == "success") {
            //            alert('提交数据成功');
            //        }
            //    },
            //    error: function () {
            //        alert('编辑失败');
            //    },
            //    complete: function () {

            //    }

            //});
        }

    });
    $dgUsers.datagrid();
</script>